<?xml version="1.0" encoding="UTF-8"?>
<odoo>
   <data>
      <record id="view_picking_form_inherit" model="ir.ui.view">
         <field name="name">stock picking inherit</field>
         <field name="model">stock.picking</field>
         <field name="priority">11</field>
         <field name="inherit_id" ref="stock.view_picking_form" />
         <field name="arch" type="xml">
            <xpath expr="//button[@name='action_toggle_is_locked']" position="attributes">
               <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//button[@name='button_scrap']" position="attributes">
               <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//button[@name='action_toggle_is_locked']" position="after">
               <button name="ghom_stock_move_lines" string="Tạo Bản In" type="object" />
               <button name="xem_print" string="Xem report html" type="object" />
               <button name="xem_print_pdf" string="Xem report  pdf" type="object" />
            </xpath>
            <xpath expr="//page[3]/group/group/field[@name='picking_type_id']" position="attributes">
               <attribute name="invisible">1</attribute>
            </xpath>
            <field name="location_id" position="replace">
               <field name="id" />
             <!--   <field name="picking_type_id" required="0" /> -->
               <field name="location_id" domain="['|','&amp;',('usage','=','internal'),('department_id','child_of', department_id),('cho_phep_khac_tram_chon','=', True)]" />
               <!--  domain="[('department_id','child_of', department_id)]" -->
               <field name="department_id" />
               <field name="stt_bien_ban" />
            </field>
            <field name="origin" position="attributes">
               <attribute name="invisible">1</attribute>
            </field>
            <field name="scheduled_date" position="replace">
               <field name="date" />
            </field>
            <field name="location_dest_id" position="replace" />
            <field name="origin" position="before">
               <field name="location_dest_id" domain="['|',('usage','=','internal'),('cho_phep_khac_tram_chon','=', True)]" />
               <field name="ban_giao_or_nghiem_thu" />
               <field name="totrinh_id" />
               <field name="ly_do" />
            </field>
            <xpath expr="//page[1]" position="attributes">
               <attribute name="attrs">{'invisible': False}</attribute>
            </xpath>
            <xpath expr="//page[1]/field/tree/field[@name='product_uom_qty']" position="attributes">
               <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//page[1]/field/tree/field[@name='product_id']" position="after">
               <field name="stock_quant_id" domain="[('location_id.department_id','child_of',parent.department_id)]" />
               <field name="tracking" readonly="1"></field>
            </xpath>
            <xpath expr="//page[1]/field/tree/field[@name='lot_id']" position="replace">
               <field name="pn" attrs="{'invisible': [('tracking', '=', 'none')]}"  />
               <field name="lot_id" attrs="{'invisible': [('tracking', '=', 'none')]}" groups="stock.group_production_lot" domain="[('product_id', '=', product_id)]" context="{'default_product_id': product_id}" />
            </xpath>
            <xpath expr="//page[1]/field/tree/field[@name='lot_id']" position="attributes">
               <attribute name="string">Serial number</attribute>
            </xpath>
            <!-- 
            <xpath expr="//field[@name='move_lines']" position="before">
               <field name="filename" invisible="1" />
               <group col="6" colspan="2">
                  <field name="data_file" filename="filename" nolabel="1" placeholder="Choose a file to import..." colspan="2" />
                  <button name="bt_load_data" string="VALIDATE" type="object" class="btn-primary" colspan="2" />
                  <button name="bt_clear" string="CLEAR" type="object" class="btn-primary" colspan="2" />
               </group>
            </xpath>
             -->
             
            <xpath expr="//page[2]" position="attributes">
               <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//page[2]/field/tree/field[@name='product_uom']" position="replace" />
            <xpath expr="//page[2]/field/tree/field[@name='quantity_done']" position="before">
               <field name="product_uom" attrs="{'readonly': [('state', '!=', 'draft'), ('additional', '=', False)]}" options="{'no_open': True, 'no_create': True}" string="Unit of Measure" groups="product.group_uom" />
            </xpath>
            <xpath expr="//page[2]" position="attributes">
               <attribute name="groups">base.group_erp_manager</attribute>
            </xpath>
            <xpath expr="//page[2]/field/tree/field[@name='reserved_availability']" position="attributes">
               <attribute name="invisible">1</attribute>
               <attribute name="string">Đặt Trước</attribute>
            </xpath>
            <field name="partner_id" position="attributes">
               <attribute name="invisible">1</attribute>
            </field>
            <xpath expr="//page[2]/field/tree/field[@name='product_uom_qty']" position="attributes">
               <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//page[3]" position="after">
               <page string="Thông Tin Thêm">
                  <group>
                     <group>
                        <field name="source_member_ids">
                           <tree>
                              <field name="name" />
                              <field name="department_id" />
                              <field name="parent_id" />
                           </tree>
                        </field>
                        <field name="ben_giao_giu" />
                     </group>
                     <group>
                        <field name="dest_member_ids">
                           <tree>
                              <field name="name" />
                              <field name="department_id" />
                              <field name="parent_id" />
                           </tree>
                        </field>
                        <field name="ben_nhan_giu" />
                     </group>
                     <group>
                        <field name="so_ban_in" />
                     </group>
                  </group>
               </page>
            </xpath>
       <!--      <xpath expr="//page[3]/group/group/field[@name='picking_type_id']" position="replace" /> -->
         
         
         
            <xpath expr="//page[3]" position="attributes">
               <attribute name="invisible">1</attribute>
            </xpath>
             
         </field>
      </record>
      <record id="cb_vpicktree_inherit" model="ir.ui.view">
         <field name="name">stock.picking.tree_inherit</field>
         <field name="model">stock.picking</field>
         <field name="inherit_id" ref="stock.vpicktree" />
         <field name="arch" type="xml">
            <field name="scheduled_date" position="attributes">
               <attribute name="invisible">1</attribute>
            </field>
            <field name="scheduled_date" position="before">
               <field name="date" />
            </field>
            <xpath expr="//field[@name='location_dest_id']" position="before">
               <field name="department_id" />
               <field name="location_id" />
            </xpath>
            <field name="backorder_id" position="replace" />
            <field name="partner_id" position="replace" />
         </field>
      </record>
      <record id="view_picking_internal_search" model="ir.ui.view">
         <field name="name">stock.picking.internal.search</field>
         <field name="model">stock.picking</field>
         <field name="inherit_id" ref="stock.view_picking_internal_search" />
         <field name="arch" type="xml">
            <field name="product_id" position="after">
               <field name="location_id" />
            </field>
         </field>
      </record>
      <record id="cb_vpicktree_inherit" model="ir.ui.view">
         <field name="name">stock.picking.tree_inherit</field>
         <field name="model">stock.picking</field>
         <field name="inherit_id" ref="stock.vpicktree" />
         <field name="arch" type="xml">
            <xpath expr="//field[@name='location_dest_id']" position="before">
               <field name="department_id" />
               <field name="location_id" />
            </xpath>
            <field name="backorder_id" position="replace" />
            <field name="partner_id" position="replace" />
         </field>
      </record>
      <record id="view_picking_internal_search" model="ir.ui.view">
         <field name="name">stock.picking.internal.search</field>
         <field name="model">stock.picking</field>
         <field name="inherit_id" ref="stock.view_picking_internal_search" />
         <field name="arch" type="xml">
            <field name="product_id" position="after">
               <field name="location_id" />
            </field>
         </field>
      </record>
   </data>
</odoo>

